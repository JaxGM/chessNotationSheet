name: Update Notation Sheet

on:
  push:
    branches:
      - main

jobs:
  update_notation_sheet:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout JaxGM/JaxGM.github.io repo
        uses: actions/checkout@v2
        with:
          repository: JaxGM/JaxGM.github.io
          ref: main
      - name: Remove contents of notationSheet folder
        run: rm -rf notationSheet/*
      - name: Checkout JaxGM/chessNotationSheet repo
        uses: actions/checkout@v2
        with:
          repository: JaxGM/chessNotationSheet
          ref: main
#       - name: Copy contents of chessNotationSheet into notationSheet folder
#         run: cp -R JaxGM/chessNotationSheet/* notationSheet/
      - name: Copy files to another repository
        uses: nkoppel/push-files-to-another-repository@v1.1.1
        env:
          API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
        with:
          source-files: 'chessNotationSheet/'
          destination-username: 'JaxGM'
          destination-repository: 'JaxGM.github.io'
          destination-directory: 'notationSheet'
          commit-email: 'flume_prowl_0n@icloud.com'
      - name: Commit and push changes
        uses: EndBug/add-and-commit@v7
        with:
          author_name: JaxGM
          author_email: flume_prowl_0n@icloud.com
          message: "Update notation sheet"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
